{% trans_default_domain 'FOSUserBundle' %}
{% form_theme form 'Ui/Form/theme.html.twig' %}

{{ form_start(form, { 'action': path('fos_user_profile_edit'), 'attr': { 'class': 'fos_user_profile_edit', 'novalidate': 'novalidate' } }) }}
<div class="row">
    <div class="col-md-12">
        <div class="card card-cascade narrower">
            <div class="view view-cascade gradient-card-header bg-primary">
                <h5 class="mb-0">
                    Modifier votre profil
                </h5>
            </div>
            <div class="card-body card-body-cascade pt-4">
                <div class="form-row">
                    <div class="col-md-12">
                        <div class="font-weight-stone-500 my-2 pl-1">{{ form.civilite.vars.label }}</div>
                        <div class="grey-text d-flex">
                            {% for choices in form.civilite.vars.choices %}
                                <div class="form-check pl-1 pr-3">
                                    <input type="radio" class="form-check-input with-gap" id="{{ form.civilite.vars.id }}_{{ loop.index0 }}"
                                           value="{{ form.civilite.vars.choices[loop.index0].value }}" name="{{ form.civilite.vars.full_name }}">
                                    <label class="form-check-label font-weight-stone-500" for="{{ form.civilite.vars.id }}_{{ loop.index0 }}" style="padding-left: 20px;">{{ form.civilite.vars.choices[loop.index0].label }}</label>
                                </div>
                            {% endfor %}
                        </div>
                        <div class="mt-2">
                            <small class="form-text text-muted" style="margin-top: -4px">
                                Ce champ est obligatoire
                            </small>
                        </div>
                        <div class="red-text font-weight-stone-500 mt-2">{{ form_errors(form.civilite) }}</div>
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.lastName) }}
                        <small class="form-text text-muted" style="margin-top: -4px">
                            Ce champ est obligatoire
                        </small>
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.firstName) }}
                        <small class="form-text text-muted" style="margin-top: -4px">
                            Ce champ est obligatoire
                        </small>
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.username) }}
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.email) }}
                        <small class="form-text text-muted" style="margin-top: -4px">
                            Ce champ est obligatoire
                        </small>
                    </div>
                    <div class="col-12 col-md-4 ">
                        {{ form_row(form.code) }}
                        <small class="form-text text-muted" style="margin-top: -4px">
                            Ce champ est obligatoire
                        </small>
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.phone) }}
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.address) }}
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.ville) }}
                    </div>
                    <div class="col-12 col-md-4">
                        {{ form_row(form.birthDay) }}
                    </div>
                </div>
                <div class="form-row d-flex justify-content-between">
                    <div class="col-12 col-md-4">
                        <div class="text-right">
                            <a href="{{ path('fos_user_change_password') }}"
                               class="link font-weight-stone-600 small">Modifier votre mot de passe</a>
                        </div>
                        <div class="" style="position: relative; bottom: 19px;">
                            {{ form_row(form.current_password) }}
                            <small class="form-text text-muted" style="margin-top: -4px">
                                Ce champ est obligatoire
                            </small>
                        </div>

                    </div>
                    <div class="col-md-6 pt-4 d-flex">
                        <div class="file-field mr-3">
                            <div class="btn btn-mdb-color float-left">
                                <span>Avatar</span>
                                <input type="file" name="{{ form.file.children.file.vars.full_name }}" id="entity-image" />
                            </div>
                        </div>

                        <div>
                            <img src="{{ vich_uploader_asset(app.user, 'file') }}" alt="" class="img-fluid img-thumbnail" id="image-view" width="150px" />
                        </div>
                    </div>
                </div>
                <div class="">
                    {{ form_widget(form._token) }}
                </div>
                <div class="text-center mt-3">
                    <input class="btn btn-primary" type="submit" value="{{ 'profile.edit.submit'|trans }}" />
                </div>
            </div>
        </div>
    </div>
</div>
{{ form_end(form, {'render_rest': false}) }}
